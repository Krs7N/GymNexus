<div class="flex justify-center items-center">
  <div class="container mx-auto p-4 max-w-2xl">
    <div class="grid grid-cols-4 text-center font-bold">
      <div class="p-2 border">Product Image</div>
      <div class="p-2 border">Product Name</div>
      <div class="p-2 border">Product Price</div>
      <div class="p-2 border">Quantity</div>
    </div>
    <div
      *ngFor="let product of cartProducts"
      class="grid grid-cols-4 text-center items-center"
    >
      <div class="p-2 border h-24">
        <img
          [src]="product.imageUrl"
          alt="Product Image"
          class="w-20 h-20 object-cover mx-auto"
        />
      </div>
      <div class="flex justify-center items-center p-2 border h-24">
        {{ product.name }}
      </div>
      <div class="flex justify-center items-center p-2 border h-24">
        {{ product.price }} BGN
      </div>
      <div class="flex justify-center items-center p-2 border h-24">
        <input class="text-center w-24" type="number" min="1" [(ngModel)]="product.quantity" (change)="recalculateTotalPrice(product)" />
      </div>
    </div>
    <div class="grid grid-cols-4 border border-t-0 text-lg py-2 font-bold mb-4">
      <div class="col-start-4">
        Total Price:
        <span class="text-green-500">{{ totalPrice.toFixed(2) }} BGN</span>
      </div>
    </div>

    <div>
      <mat-form-field appearance="fill" class="w-full">
        <mat-label>Payment Method</mat-label>
        <mat-select (selectionChange)="paymentMethod = $event.value">
          <mat-option mat-option value="InCash">In Cash</mat-option>
          <mat-option value="ByCard">By Card</mat-option>
          <mat-option value="PayPal">By PayPal</mat-option>
        </mat-select>
      </mat-form-field>

        <div class="text-right">
            <button class="bg-green-500 hover:bg-green-700 text-white py-2 px-4 font-bold rounded" (click)="onCheckout()">
                Checkout
            </button>
        </div>
    </div>
  </div>
</div>
